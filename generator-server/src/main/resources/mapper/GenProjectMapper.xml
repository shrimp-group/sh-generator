<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wkclz.generator.server.mapper.GenProjectMapper">

    <select id="getProjectList" parameterType="com.wkclz.generator.server.bean.entity.GenProject" resultType="com.wkclz.generator.server.bean.entity.GenProject">
        SELECT
            id,
            project_code,
            user_code,
            db_code,
            table_prefix,
            module_name,
            project_name,
            project_desc,
            sort,
            create_time,
            create_by,
            update_time,
            update_by,
            remark,
            version
        FROM
            gen_project
        WHERE
            deleted = 0
            <if test="projectCode != null">AND project_code LIKE CONCAT('%', #{projectCode}, '%')</if>
            <if test="moduleName != null">AND module_name LIKE CONCAT('%', #{moduleName}, '%')</if>
            <if test="projectName != null">AND project_name LIKE CONCAT('%', #{projectName}, '%')</if>
            <if test="userCode != null">AND user_code = #{userCode}</if>
            <if test="dbCode != null">AND db_code = #{dbCode}</if>
        ORDER BY
            sort ASC,
            id DESC
    </select>


</mapper>
